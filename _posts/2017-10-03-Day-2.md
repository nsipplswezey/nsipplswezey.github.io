---
layout: post
title: Day 2
---

## Goal?

Build [liquid.vote/berkeley]("https://liquid.vote/berkeley").

What's [liquid.vote]("https://liquid.vote/")?

See [liquid.vote/sf]("https://liquid.vote/sf").

Oh [liquid.vote/sf]("https://liquid.vote/sf") is broken? They're rebuilding the new version of liquid.vote? 

And it's ![under construction](https://motherboard-images.vice.com/content-images/contentimage/26327/1444070256569233.gif)


## Dev and Prod

I have git access to some version of the source for this `api.liquid.vote` server. It's backed by RethinkDB. I'd have to ask David for the keys. Or I'd have to generate my own. Redploy it.

I also have access to the backing legislative data for San Francisco. So I know the schema of the input data. David's backend handles the other things like users, votes and delegation. Mostly I care about handling the legislative data. That's the right place to start.

So let's get a handle on endpoints. What does the client request? What fails? What does it intend to render?

Both production API endpoints are broken.

`pure-api.liquid.vote` tells me:

```
{"message":"You found a bug! Let us know at bugs@liquid.vote and we'll buy you coffee.","status":500}
```

And `api.liquid.vote` says:

![parsing](https://files.slack.com/files-pri/T2X7DMCD6-F7C2H1Z9N/screen_shot_2017-10-03_at_9.52.08_am.png)

But [https://github.com/liquidvote/sf-legislation](https://github.com/liquidvote/sf-legislation) says:

```
module.exports =
[ { itemNumber: 1,
    id: 161015,
    title: 'Appropriation - Real Property Transfer Tax for Funding Community College Fund - FY2016-2017 - $9,000,000',
    sponsors: [ 'Kim', 'Campos, Avalos, Yee, Mar and Peskin' ],
    text: 'Ordinance appropriating a total of $9,000,000 of Real Property Transfer Tax in FY2016-2017 for funding the Community College Fund to support students attending the City College of San Francisco and placing funds on Controllerâ€™s Reserve pending the outcome of General Fund tax revenue measures in the November 8, 2016, Election.',
    fiscalImpact: true,
    statusLog: [ { date: '12/13/2016', status: 'PASSED ON FIRST READING.' } ],
    question: 'Question: Shall this Ordinance be FINALLY PASSED?',
    date: '2017-01-10',
    source_doc: 'bag011017_agenda.pdf',
    uid: '2017-01-10-161015' },
  { itemNumber: 2,
    id: 161094,
    title: 'Contract Amendment - Dominion Voting Systems, Inc. - Voting System - Not to Exceed $21,980,691.25',
    sponsors: undefined,
    text: 'Ordinance authorizing the Department of Elections to enter into the Fourth Amendment to an agreement with Dominion Voting Systems, Inc., to extend the term of the agreement through December 31, 2018, and increase the total not-to-exceed amount by $2,289,758 from $19,690,933.25 to $21,980,691.25. (Elections Department)',
    fiscalImpact: true,
    statusLog: [ { date: '12/13/2016', status: 'PASSED ON FIRST READING.' } ],
    question: 'Question: Shall this Ordinance be FINALLY PASSED?',
    date: '2017-01-10',
    source_doc: 'bag011017_agenda.pdf',
    uid: '2017-01-10-161094' },
  { itemNumber: 3,
    id: 161108,
    title: 'Administrative Code - Library Fines and Fees',
    sponsors: [ 'Mayor', 'Mar' ],
    text: 'Ordinance amending the Administrative Code to modify the fines and fees of the Public Library.',
    fiscalImpact: false,
    statusLog: [ { date: '12/13/2016', status: 'PASSED ON FIRST READING.' } ],
    question: 'Question: Shall this Ordinance be FINALLY PASSED?',
    date: '2017-01-10',
    source_doc: 'bag011017_agenda.pdf',
    uid: '2017-01-10-161108' },
```

And I expect something like that to come back in a response to a GET request to `api.liquid.vote/bills`

## A Clone











